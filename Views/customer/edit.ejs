<%- include('../header') %>
<!-- navbar  -->
<nav class="navbar navbar-expand-lg navbar-light bg-primary">
   <div class="container">
     <a class="navbar-brand" style="color: white;" href="#">Admin Panel</a>
     <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
       aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
       <span class="navbar-toggler-icon"></span>
     </button>
     <div class="collapse navbar-collapse" id="navbarNav">
       <form class="d-flex  justify-content-end" action="/logout" method="post">
         <button type="submit" class="btn btn-outline-light justify-content-end">Logout</button>
       </form>
     </div>

   </div>
 </nav>

 <!-- contents -->
 <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
   <h1 class="h2 text-primary">Edit <%= customer.firstName%> <%= customer.lastName %></h1>
   <div class="btn-toolbar mb-2 mb-md-0">
     <div class="btn-group me-2">
       <button class="btn btn-sm btn-outline-primary">?</button>
     </div>
   </div>
 </div>

 <div class="col py-3">
   <div class="row">
       <nav aria-label="breadcrumb">
           <ol class="breadcrumb">
               <li class="breadcrumb-item"><a href="/">Dashboard</a></li>
               <li class="breadcrumb-item active"><%= customer.firstName%> <%= customer.lastName %></li>
           </ol>
       </nav>
   </div>
 </div>


 <!-- form -->
 <div class="container bg-white py-2" style="width: 750px;border-radius: 10px;
 box-shadow: 5px 10px 28px;">
   <form action="/admin/edit/<%= customer._id %>" method="POST">
     <div class="row form-group mb-4">
         <div class="col">
             <label for="firstname">First name</label>
             <input type="text" class="form-control" id="firstname" name="firstname" value="<%= customer.firstName %>" placeholder="First Name" required>
         </div>
         <div class="col">
             <label for="lastname">Last name</label>
             <input type="text" class="form-control" id="lastname" name="lastname" value="<%= customer.lastName %>" placeholder="Last Name" required>
         </div>
     </div>
     <div class="row form-group mb-4">
         <div class="col">
             <label for="number">Contact number</label>
             <input type="text" class="form-control" id="number" name="number" value="<%= customer.number %>" placeholder="Number" required>
         </div>
         <div class="col">
             <label for="email">Email</label>
             <input type="text" class="form-control" id="email" name="email" value="<%= customer.email %>" placeholder="user@email.com" required>
         </div>
     </div>
     <div class="row form-group mb-4">
         <div class="col">
             <label for="uname">Username</label>
             <input type="text" class="form-control" id="uname" name="uname" value="<%= customer.userName %>" placeholder="Username" required>
         </div>
         <div class="col">
             <label for="password">Password</label>
             <input type="password" class="form-control" id="password" name="password" value="<%= customer.password %>" placeholder="Password" required>
         </div>
     </div>
     <div class="col form-group mb-4 mx-4" style="display: inline-block;">
         <button type="submit" class="btn btn-primary my-2">Update customer</button>
         <button type="button" class="btn btn-danger" data-bs-toggle="modal" id="deleteButton" data-bs-target="#deleteModal">Delete customer</button>
     </div>
     
   </form>
 </div>

 <div class="modal fade" tabindex="-1" role="dialog" id="deleteModal">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <div class="modal-title">You are about to delete a customer record</div>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <p>
          This will remove the customer record of <b class="fw-bold"><%= customer.firstName %> <%= customer.lastName %></b><br>
          Are you sure?
        </p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
      
        <a type="submit" class="btn btn-primary" href="/admin/delete/<%= customer._id %>" >Yes, Remove Customer</a>
      </div>
    </div>

  </div>
 </div>
 

 <%- include('../footer') %>